# Debugging Python code

There are a lot of ways one can Debug Python code. You could be using an IDE extensions allowing to do that in you IDE GUI, or you can do that a bit more tedious way with print statements or additional libraries.


## Good old print() statements

Of course by now we have used print plenty enough, some people also like to use print() for debugging or logging as well:

![IMG](https://github.com/CodeAcademy-Online/python-new-material-level2/blob/master/images/debug4.png)

This is not great and not terrible during the developing period of your application, but once it is live - you should not be doing such things. So let's discuss other options.

P.S. If you got this far in course you know how print() works, so no examples here.

## pdb library:

Another a little bit more sophisticated way of debugging is using pdb library:

```python
...
import pdb
pdb.set_trace()
...
``` 

Once this line is reached you will get a shell where you can look around in computers memory and see what variables you have, their state etc.

Of course it is indeed a bit tedious to debug the code by writing more code... So let's look how we can do this with the help of the VSCode. 

So let's create main.py file and write some code:

```python
my_list = [1, 2, 3]

for item in my_list:
    something = item + 1
    print(something + 1)
```


So this is rather simple and straightforward but how do we inspect what is _something_ during the runtime? So let's at first one the left handside of the code window add red bubble simply by clicking with our cursor:

![IMG](https://github.com/CodeAcademy-Online/python-new-material-level2/blob/master/images/debug1.jpg)

now we are ready for debugging. Hit the button with a play button and a bug:

![IMG](https://github.com/CodeAcademy-Online/python-new-material-level2/blob/master/images/debug2.jpg)

For now simply choose _Python File: Debug the currently active Python file_ and this is it in a matter of seconds you will see something like this:

![IMG](https://github.com/CodeAcademy-Online/python-new-material-level2/blob/master/images/debug3.jpg)


As you can see on the left hand side you can see all of the variables currently loaded into computers memory and you can inspect manually what is what. It is a bit less tedious approach cause now you have an UI where you can see things conveniently. What is more you have this play menu where you also have a few choices what to do.

Please have a go of your own. Write different code, try debugging it. Is everything clear? Discuss.

# Logging

So for now we have seen how to investigate issues once you are developing your application - you run some examples, investigate what is going on and solve the issues along the way. But what happens if the issues occur during once the application is in the production environment, how do we know what caused it, and how to we recreate those situations in safe environment? Answer is in the Subject - Logging!
With logging you can pickup the logs and review what happened in your system, what were the actions that led it to unwanted state or made it do things it was not supposed to.

We have already seen the [logging](https://github.com/CodeAcademy-Online/python-new-material/wiki/Lesson-14:-Logging) in the beginning of the course, let's look into it a bit deeper.

What we yet have not seen is how to elegantly create logging config. So let's try doing it ourselves.

create a file called _logging.conf_ 
Add the following information

```conf
[loggers]
keys=root,sampleLogger

[handlers]
keys=consoleHandler

[formatters]
keys=sampleFormatter

[logger_root]
level=DEBUG
handlers=consoleHandler

[logger_sampleLogger]
level=DEBUG
handlers=consoleHandler
qualname=sampleLogger
propagate=0

[handler_consoleHandler]
class=StreamHandler
level=DEBUG
formatter=sampleFormatter
args=(sys.stdout,)

[formatter_sampleFormatter]
format=%(asctime)s - %(name)s - %(levelname)s - %(message)s
```

Now create python file called _main.py_ with contents:

```python
import logging
import logging.config

logging.config.fileConfig(fname='logging.conf', disable_existing_loggers=False)

# Get the logger specified in the file
logger = logging.getLogger(__name__)

logger.debug('This is a debug message')
```

Now without any hassle you can recreate this logging in any of the other files and reuse it, having only one place where to change the configuration of your logging or adding additional handlers etc.

Try adding functionality for logger to write into the file. Can you do it via configuration file? Give it a try and discuss findings.




# Additional readings:

* [Logging](https://realpython.com/python-logging/#classes-and-functions)






